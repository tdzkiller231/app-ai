<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kiểm tra hệ thống</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: #111827; /* Tailwind: bg-gray-900 */
            color: #d1d5db; /* Tailwind: text-gray-300 */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            text-align: center;
            padding: 1rem;
        }
        .card {
            max-width: 600px;
            width: 100%;
            background-color: #1f2937; /* Tailwind: bg-gray-800 */
            padding: 2rem;
            border-radius: 1.5rem; /* Tailwind: rounded-3xl */
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.4);
            border: 1px solid #374151; /* Tailwind: border-gray-700 */
        }
        .header {
            font-size: 2.25rem; /* Tailwind: text-4xl */
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #e5e7eb; /* Tailwind: text-gray-200 */
        }
        .start-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            font-size: 1.25rem; /* Tailwind: text-xl */
            font-weight: 700;
            color: white;
            background-color: #3b82f6; /* Tailwind: bg-blue-500 */
            border-radius: 9999px; /* Tailwind: rounded-full */
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .start-button:hover {
            background-color: #2563eb; /* Tailwind: bg-blue-600 */
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .scanning-view {
            display: none;
        }
        .progress-bar {
            width: 100%;
            height: 1.5rem;
            background-color: #374151; /* Tailwind: bg-gray-700 */
            border-radius: 9999px;
            margin-top: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            width: 0%;
            background-color: #3b82f6; /* Tailwind: bg-blue-500 */
            transition: width 0.3s linear;
        }
        .progress-text {
            color: #d1d5db; /* Tailwind: text-gray-300 */
            font-size: 1.125rem; /* Tailwind: text-lg */
            margin-top: 0.5rem;
        }
        .scan-log {
            text-align: left;
            margin-top: 2rem;
            max-height: 200px;
            overflow-y: auto;
            border-radius: 0.5rem;
            padding: 1rem;
            background: #111827; /* Tailwind: bg-gray-900 */
        }
        .log-item {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        .log-icon {
            margin-right: 0.5rem;
        }
        .log-icon.check {
            color: #10b981; /* Tailwind: text-emerald-500 */
        }
        .log-icon.virus {
            color: #ef4444; /* Tailwind: text-red-500 */
        }
    </style>
</head>
<body>

<div id="start-view" class="card">
    <div class="header">
        Kiểm tra hệ thống
    </div>
    <div class="text-lg mb-6">
        Hệ thống phát hiện có lỗi. Vui lòng nhấn nút dưới đây để quét và sửa lỗi ngay lập tức.
    </div>
    <button id="startButton" class="start-button">
        Bắt đầu quét
    </button>
</div>

<div id="scanning-view" class="card scanning-view">
    <div class="header">
        Đang quét...
    </div>
    <div class="progress-bar">
        <div id="progress" class="progress"></div>
    </div>
    <div id="progress-text" class="progress-text">
        Đang khởi động...
    </div>
    <div id="scanLog" class="scan-log">
        <!-- Log items will be added here dynamically -->
    </div>
</div>

<div id="result-view" class="card scanning-view">
    <div class="header">
        <span class="text-red-500">Lỗi nghiêm trọng!</span>
    </div>
    <div class="text-lg mb-6">
        Hệ thống đã phát hiện ra các **virus độc hại** có tên là **"Hoàng Anh"**. Các loại virus này đặc biệt thích ăn chơi, thích trêu bạn bè và cực kỳ... đẹp trai.
    </div>
    <div class="text-lg font-bold text-yellow-300">
        Cảnh báo: Virus Hoàng Anh đã lây nhiễm thành công và không thể gỡ bỏ!
    </div>
</div>

<script>
    // Lấy các phần tử DOM
    const startView = document.getElementById('start-view');
    const scanningView = document.getElementById('scanning-view');
    const resultView = document.getElementById('result-view');
    const startButton = document.getElementById('startButton');
    const progressBar = document.getElementById('progress');
    const progressText = document.getElementById('progress-text');
    const scanLog = document.getElementById('scanLog');

    // Mảng các virus giả định
    const fakeViruses = [
        'hoang_anh_tai_hai.virus',
        'virus_an_choi_so_1.exe',
        'de_nhat_lua_dao.worm',
        'hoang_anh_ga_ngu.malware',
        'yeu_lam_chi_cho_hai.trojan',
        'thang_ban_than_lua_dao.spyware'
    ];

    let progressValue = 0;
    let scanInterval;
    let logIndex = 0;

    startButton.addEventListener('click', () => {
        // Chuyển từ màn hình bắt đầu sang màn hình quét
        startView.style.display = 'none';
        scanningView.style.display = 'block';

        // Bắt đầu quá trình quét
        scanInterval = setInterval(updateScan, 100);
    });

    // Hàm cập nhật quá trình quét
    function updateScan() {
        if (progressValue < 100) {
            progressValue += Math.random() * 2; // Tăng tiến độ ngẫu nhiên
            if (progressValue > 100) progressValue = 100;

            progressBar.style.width = progressValue + '%';
            progressText.textContent = `Đang quét: ${progressValue.toFixed(0)}%`;

            // Thêm log ngẫu nhiên trong quá trình quét
            if (progressValue > 10 && logIndex < fakeViruses.length) {
                const randomTime = Math.random() * 20 + 5; // Thời gian ngẫu nhiên để thêm log
                setTimeout(() => {
                    if (logIndex < fakeViruses.length) {
                        addLogItem('virus', 'Đã tìm thấy mối đe dọa:', fakeViruses[logIndex]);
                        logIndex++;
                    }
                }, randomTime * 100);
            }
        } else {
            // Khi hoàn thành 100%
            clearInterval(scanInterval);
            setTimeout(() => {
                scanningView.style.display = 'none';
                resultView.style.display = 'block';
            }, 1000);
        }
    }

    // Hàm thêm log vào danh sách
    function addLogItem(type, message, filename) {
        const logItem = document.createElement('div');
        logItem.className = 'log-item';
        
        const icon = document.createElement('span');
        icon.className = `log-icon ${type}`;
        icon.innerHTML = type === 'virus' ? '&#x2620;' : '&#x2713;'; // Icon virus hoặc dấu tích

        const text = document.createElement('span');
        text.innerHTML = `${message} <span class="text-red-400 font-bold">${filename}</span>`;

        logItem.appendChild(icon);
        logItem.appendChild(text);
        scanLog.appendChild(logItem);
        scanLog.scrollTop = scanLog.scrollHeight; // Tự động cuộn xuống dưới
    }

    // Khởi tạo một vài log ban đầu cho trông thật hơn
    setTimeout(() => addLogItem('check', 'Đang kiểm tra tệp hệ thống...', ''), 500);
    setTimeout(() => addLogItem('check', 'Kết nối thành công...', ''), 1500);
    setTimeout(() => addLogItem('check', 'Đang phân tích dữ liệu người dùng...', ''), 2500);

</script>

</body>
</html>
